---
// server
import CodeOverview from "../../../components/Code/Overview";
import Layout from "../../../layouts/Layout.astro";
import { getCodesForUser } from "../../../lib/user";

const user = Astro.cookies.get("session")?.value;

let codes;
if (user) {
  codes = await getCodesForUser(user);
}
---

<Layout>
  <CodeOverview codes={codes} client:only />
</Layout>
